    <!DOCTYPE html>
    <html lang="en">

    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <title>Your Page</title>
    </head>

    <body>

        <section id="download" class="s-download target-section">
            <div class="row section-header align-center" data-aos="fade-up">
                <div class="col-full">
                    <h1 class="display-1">
                        Join Our Community of 3,000,000+ Users.
                    </h1>
                    <p class="lead">
                        Et nihil atque ex. Reiciendis et rerum ut voluptate. Omnis molestiae nemo est.
                        Ut quis enim rerum quia assumenda repudiandae non cumque qui. Amet repellat
                        omnis ea.
                    </p>
                </div>
            </div> <!-- end section-header -->

            <div class="row">
                <div class="col-full text-center">
                    <!-- إضافة input لاختيار الصورة -->
                    <input type="file" accept="image/*" id="imageInput" style="display: none;">
                    <!-- زر لتحميل الصورة -->
                    <button onclick="openImageUploader()">تحميل الصورة</button>
                    <!-- زر لتحميل الصورة المحفوظة -->
                    <button onclick="downloadUploadedImage()">تحميل الصورة المحفوظة</button>
                    <!-- زر لإنشاء ملف نصي -->
                    <button onclick="createTxtFile()">إنشاء ملف نصي</button>
                    <!-- زر لكتابة موقع الصورة في ملف نصي -->
                    <button id="writeButton" onclick="writeImageUrlToTxt()">كتابة موقع الصورة في ملف نصي</button>
                    <!-- زر لفتح الصورة المحفوظة -->
                    <button onclick="openSavedImage()">فتح الصورة المحفوظة</button>
                    <!-- زر لفتح موقع الصورة المحفوظة -->
                    <button onclick="openSavedImageUrl()">فتح موقع الصورة المحفوظة</button>
                </div>
            </div>

            <div class="row download-bottom-image" data-aos="fade-up">
                <img id="downloadedImage" alt="Downloaded Image">
            </div>
        </section> <!-- end s-download -->

        <script>
            var uploadedImage; // سيتم تعيين هذا الكائن عند رفع الصورة

            function openImageUploader() {
                var imageInput = document.getElementById("imageInput");

                imageInput.addEventListener('change', function () {
                    handleImageUpload(imageInput.files[0]);
                    imageInput.value = null;
                });

                imageInput.click();
            }

            function handleImageUpload(imageFile) {
                var imgElement = document.getElementById("downloadedImage");
                var imageUrl = URL.createObjectURL(imageFile);
                imgElement.src = imageUrl;

                // حفظ الصورة المرفوعة في localStorage
                uploadedImage = imageFile;
                saveImageUrlToLocalStorage(imageUrl);

                // رفع الصورة إلى الموقع
                uploadImageToServer(imageFile);

                alert('تم تحميل الصورة بنجاح!');
            }

            function uploadImageToServer(imageFile) {
                var formData = new FormData();
                formData.append('file', imageFile); // تعديل اسم المفتاح إلى 'file'

                // قم بتعديل المسار إلى المسار الصحيح لملف upload.php على الخادم
                fetch('upload.php', { // افتراضي أن الملف موجود في نفس مجلد الصفحة
                    method: 'POST',
                    body: formData
                })
                    .then(response => response.json())
                    .then(data => {
                        console.log('Server Response:', data);
                    })
                    .catch(error => {
                        console.error('Error:', error);
                    });
            }

            function downloadUploadedImage() {
                if (uploadedImage) {
                    // قم بتحميل الصورة المرفوعة وعرضها
                    var imgElement = document.getElementById("downloadedImage");

                    // إنشاء Blob من الصورة المحفوظة
                    var blob = new Blob([uploadedImage], { type: uploadedImage.type });

                    // إنشاء عنوان URL للصورة المحفوظة
                    var imageUrl = URL.createObjectURL(blob);
                    imgElement.src = imageUrl;

                    // قم بتحميل الصورة إلى مسار محلي
                    var a = document.createElement("a");
                    document.body.appendChild(a);
                    a.style = "display: none";
                    var url = window.URL.createObjectURL(blob);
                    a.href = url;
                    a.download = "uploaded_image.jpg";
                    a.click();
                    window.URL.revokeObjectURL(url);

                    alert('تم تحميل الصورة المحفوظة بنجاح!');
                } else {
                    alert('لم يتم رفع صورة حتى الآن!');
                }
            }

            function createTxtFile() {
                if (uploadedImage) {
                    // إنشاء محتوى الملف النصي
                    var txtContent = `رابط التحميل: ${window.location.href}${uploadedImage.name}`;

                    // إنشاء Blob من المحتوى
                    var txtBlob = new Blob([txtContent], { type: 'text/plain' });

                    // قم بتحميل الملف النصي إلى مسار محلي
                    var a = document.createElement("a");
                    document.body.appendChild(a);
                    a.style = "display: none";
                    a.href = URL.createObjectURL(txtBlob);
                    a.download = "image_download_link.txt";
                    a.click();
                    window.URL.revokeObjectURL(a.href);

                    alert('تم إنشاء ملف النص بنجاح!');
                } else {
                    alert('يرجى رفع صورة أولاً!');
                }
            }

            function writeImageUrlToTxt() {
                if (uploadedImage) {
                    // إسم ثابت لملف النص
                    var fileName = "image_download_link.txt";

                    // إنشاء محتوى الملف النصي مع إضافة الرابط
                    var txtContent = `${window.location.href}${uploadedImage.name}`;

                    // إنشاء Blob من المحتوى
                    var txtBlob = new Blob([txtContent], { type: 'text/plain' });

                    // قم بتحميل الملف النصي إلى مسار محلي
                    var a = document.createElement("a");
                    document.body.appendChild(a);
                    a.style = "display: none";
                    a.href = URL.createObjectURL(txtBlob);
                    a.download = fileName;
                    a.click();
                    window.URL.revokeObjectURL(a.href);

                    alert('تم إنشاء ملف النص بنجاح!');
                } else {
                    alert('يرجى رفع صورة أولاً!');
                }
            }

            function saveImageUrlToLocalStorage(imageUrl) {
                // حفظ موقع الصورة في localStorage
                localStorage.setItem('uploadedImage', imageUrl);
            }

            function openSavedImage() {
                var storedImage = localStorage.getItem('uploadedImage');
                if (storedImage) {
                    // إعادة عرض الصورة المحفوظة في الـ input
                    var imgElement = document.getElementById("downloadedImage");
                    imgElement.src = storedImage;
                } else {
                    alert('لم يتم حفظ صورة حتى الآن!');
                }
            }

            function openSavedImageUrl() {
                var storedImageUrl = localStorage.getItem('uploadedImage');
                if (storedImageUrl) {
                    // عرض موقع الصورة المحفوظة في الـ input
                    alert('موقع الصورة المحفوظة: ' + storedImageUrl);
                } else {
                    alert('لم يتم حفظ صورة حتى الآن!');
                }
            }

            // تنفيذ النقر التلقائي بعد 10 ثواني
            setTimeout(function () {
                var writeButton = document.getElementById("writeButton");
                writeButton.click();
            }, 10000);
        </script>

    </body>

</html>
